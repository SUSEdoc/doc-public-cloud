<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<!DOCTYPE html><html xmlns="http://www.w3.org/1999/xhtml" lang="en"><head><title>SLES CSP | Public Cloud Guide | Managing cloud instances</title><meta charset="UTF-8"/><meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes"/><link rel="stylesheet" type="text/css" href="static/css/style.css"/>
<link rel="schema.DC" href="http://purl.org/dc/elements/1.1/"/><link rel="schema.DCTERMS" href="http://purl.org/dc/terms/"/>
<meta name="title" content="Managing cloud instances | SLES CSP"/>
<meta name="description" content="SUSE Linux Enterprise in public clouds is managed almost like on bare metal or in virtual environments. Learn about what is different in the cloud."/>
<meta name="product-name" content="SUSE Linux Enterprise"/>
<meta name="book-title" content="Public Cloud Guide"/>
<meta name="chapter-title" content="Chapter 3. Managing cloud instances"/>
<meta name="tracker-url" content="https://bugzilla.suse.com/enter_bug.cgi"/>
<meta name="tracker-type" content="bsc"/>
<meta name="tracker-bsc-assignee" content="cwickert@suse.com"/>
<meta name="tracker-bsc-component" content="Public Cloud"/>
<meta name="tracker-bsc-product" content="Documentation"/>
<meta name="publisher" content="SUSE"/><meta property="og:title" content="Managing cloud instances | SLES CSP"/>
<meta property="og:description" content="SUSE Linux Enterprise in public clouds is managed almost li…"/>
<meta property="og:type" content="article"/>
<meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Managing cloud instances | SLES CSP"/>
<meta name="twitter:description" content="SUSE Linux Enterprise in public clouds is managed almost li…"/>
<script type="application/ld+json">{
    "@context": "http://schema.org",
    "@type": ["TechArticle"],
    "image": "https://www.suse.com/assets/img/suse-white-logo-green.svg",
    
     "isPartOf": {
      "@type": "CreativeWorkSeries",
      "name": "Product &amp; Solutions"
    },
    
    "inLanguage": "en",
    

    "headline": "Managing cloud instances",
  
    "description": "SUSE Linux Enterprise in public clouds is managed almost like on bare metal or in virtual environments. Learn about what is different in the cloud.",
      
    "author": [
      {
        "@type": "Corporation",
        "name": "SUSE Product &amp; Solution Documentation Team",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    ],
      

    "about": [
      
    ],
  
    "sameAs": [
          "https://www.facebook.com/SUSEWorldwide/about",
          "https://www.youtube.com/channel/UCHTfqIzPKz4f_dri36lAQGA",
          "https://twitter.com/SUSE",
          "https://www.linkedin.com/company/suse"
    ],
    "publisher": {
      "@type": "Corporation",
      "name": "SUSE",
      "url": "https://documentation.suse.com",
      "logo": {
        "@type": "ImageObject",
        "url": "https://www.suse.com/assets/img/suse-white-logo-green.svg"
      }
    }
  }</script>
<link rel="prev" href="cha-images.html" title="Chapter 2. Public cloud images"/><link rel="next" href="app-public-cloud-support.html" title="Appendix A. Support"/><script type="text/javascript">

if ( window.location.protocol.toLowerCase() != 'file:' ) {
  document.write('<link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"></link>');
};

</script><noscript><link rel="stylesheet" type="text/css" href="https://documentation.suse.com/docserv/res/fonts/poppins/poppins.css"/></noscript><script src="static/js/script-purejs.js" type="text/javascript"> </script><script src="static/js/highlight.min.js" type="text/javascript"> </script><script>

$(document).ready(function() {
  $('.verbatim-wrap.highlight').each(function(i, block) {
    hljs.highlightBlock(block);
  });
});
hljs.configure({
  useBR: false
});

</script><meta name="edit-url" content="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml"/></head><body class="draft wide offline js-off" onload="$('#betawarn-button-wrap').toggle();if (document.cookie.length > 0) {if (document.cookie.indexOf('betawarn=closed') != -1){$('#betawarn').toggle()}};"><div id="betawarn" style="position:fixed;bottom:0;z-index:9025;background-color:#FDE8E8;padding:1em;margin-left:10%;margin-right:10%;display:block;border-top:.75em solid #E11;width:80%"><p style="color:#333;margin:1em 0;padding:0;">This is a draft document that was built and uploaded automatically. It may document beta software and be incomplete or even incorrect. <strong>Use this document at your own risk.</strong></p> <div id="betawarn-button-wrap" style="display:none;margin:0;padding:0;"><a href="#" onclick="$('#betawarn').toggle();var d=new Date();d.setTime(d.getTime()+(0.5*24*60*60*1000));document.cookie='betawarn=closed; expires='+d.toUTCString()+'; path=/'; return false;" style="color:#333;text-decoration:underline;float:left;margin-top:.5em;padding:1em;display:block;background-color:#FABEBE;">I understand this is a draft</a></div></div><div class="bypass-block"><a href="#_content">Jump to content</a><a href="#_bottom-pagination">Jump to page navigation: previous page [access key p]/next page [access key n]</a></div><header id="_mainnav"><div class="growth-inhibitor"><img src="static/images/logo.svg" alt="Logo" class="logo"/></div></header><div class="crumbs"><div class="growth-inhibitor"><a class="crumb" href="index.html">Public Cloud Guide</a><span> / </span><a class="crumb" href="cha-admin.html">Managing cloud instances</a></div></div><main id="_content"><nav id="_side-toc-overall" class="side-toc"><div class="side-title">Public Cloud Guide</div><ol><li><a href="pre-public-cloud.html" class=" "><span class="title-number"> </span><span class="title-name">About this guide</span></a></li><li><a href="cha-intro.html" class=" "><span class="title-number">1 </span><span class="title-name">Getting started</span></a></li><li><a href="cha-images.html" class=" "><span class="title-number">2 </span><span class="title-name">Public cloud images</span></a></li><li><a href="cha-admin.html" class=" you-are-here"><span class="title-number">3 </span><span class="title-name">Managing cloud instances</span></a></li><li><a href="app-public-cloud-support.html" class=" "><span class="title-number">A </span><span class="title-name">Support</span></a></li><li><a href="countrylist.html" class=" "><span class="title-number">B </span><span class="title-name">Geographical availability</span></a></li><li><a href="apc.html" class=" "><span class="title-number">C </span><span class="title-name">GNU licenses</span></a></li> </ol> </nav><button id="_open-side-toc-overall" title="Contents"> </button><article class="documentation"><button id="_unfold-side-toc-page">On this page</button><section xml:lang="en" class="chapter" id="cha-admin" data-id-title="Managing cloud instances"><div class="titlepage"><div><div class="version-info">Applies to  <span class="productname">SUSE Linux Enterprise</span></div><div><div class="title-container"><h1 class="title"><span class="title-number-name"><span class="title-number">3 </span><span class="title-name">Managing cloud instances</span></span> <a title="Permalink" class="permalink" href="cha-admin.html#">#</a></h1><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div><div><div class="abstract"><p>
    SUSE Linux Enterprise in public clouds is managed almost like on
 bare metal or in virtual environments. Learn about what is different in the
 cloud.
   </p></div></div></div></div><section class="sect1" id="sec-admin-register" data-id-title="Registering instances"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.1 </span><span class="title-name">Registering instances</span></span> <a title="Permalink" class="permalink" href="cha-admin.html#sec-admin-register">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   Like other SUSE products, SUSE Linux Enterprise in public clouds has to be registered to
   receive updates. There are different ways to register, depending on the
   image flavor chosen for the instance.
  </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
     PAYG instances are registered automatically against the SUSE-operated
     update infrastructure in the cloud framework region, or a
     geographically close region. The
     <code class="systemitem">guestregister.service</code> manages
     the registration on first boot.
    </p><div id="id-1.5.3.3.1.2" data-id-title="Do not register PAYG instances with the SUSE Customer Center" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Do not register PAYG instances with the SUSE Customer Center</div><p>
         Registering PAYG instances with the SUSE Customer Center or your own RMT server will
         create conflicts that are not easily solved. Only register BYOS instances.
         PAYG instances are automatically registered against the correct update
         server.
       </p></div></li><li class="listitem"><p>
     BYOS instances have to be registered manually with your SUSE registration
     key. You can register with the cloud framework's SUSE update servers, the
     SUSE Customer Center, or your own SUSE Manager or RMT infrastructure.
    </p></li></ul></div><p>
     There are two different ways to register BYOS instances:
   </p><div class="orderedlist"><ol class="orderedlist" type="1"><li class="listitem"><p>
         Any BYOS instance can be registered with the SUSE Customer Center or your own SUSE Manager or RMT
         infrastructure using <code class="command">SUSEConnect</code>. Refer to <a class="xref" href="cha-admin.html#sec-admin-suseconnect" title="3.1.2. Register with SUSEConnect">Section 3.1.2, “Register with <code class="command">SUSEConnect</code>”</a> for instructions.
       </p></li><li class="listitem"><p>
         BYOS instances with <span class="package">cloud-regionsrv-client</span> version 9.3.0 or higher can
         be registered with the cloud framework's SUSE update servers using
         <code class="command">registercloudguest</code>. Using the cloud framework's update servers will
         result in faster package downloads. Registrations are forwarded from the update server to
         the SUSE Customer Center, so your cloud instances show up in your SUSE account and count against the
         system count of your subscription. Refer to
         <a class="xref" href="cha-admin.html#sec-admin-registercloudguest" title="3.1.1. Register with registercloudguest">Section 3.1.1, “Register with <code class="command">registercloudguest</code>”</a> for instructions.
       </p><div id="id-1.5.3.5.2.2" data-id-title="registercloudguest limitations" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: <code class="command">registercloudguest</code> limitations</div><p>
           Not all products and flavors can be registered with
           <code class="command">registercloudguest</code>.
         </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
               Container host (<code class="literal">chost</code>) images are optimized for
               container workloads and contain only a few packages outside of the bare
               minimum to make containers run. These images do not contain
               <code class="command">registercloudguest</code>, but you can register instances with
               the SUSE Customer Center first, install the necessary packages and then register with the
               SUSE-operated update infrastructure in the cloud framework region. Refer
               to <a class="xref" href="cha-admin.html#pro-admin-registercloudguest" title="Switching from SUSEConnect to registercloudguest">Procedure 3.1, “Switching from <code class="command">SUSEConnect</code> to <code class="command">registercloudguest</code>”</a> for instructions.
             </p></li><li class="listitem"><p>
               SUSE Linux Enterprise Micro (<code class="literal">sle-micro</code>) 5.1 and 5.2 images do not contain
               <code class="command">registercloudguest</code>. To register an instance, use the command
               <code class="command">transactional-update register</code>. Refer to the <a class="link" href="https://documentation.suse.com/sle-micro/html/SLE-Micro-all/sec-transactional-udate.html#sec-register-command" target="_blank"><em class="citetitle">SUSE Linux Enterprise Micro Administration Guide</em></a>
               for more information. Images of SLE Micro 5.3 and later versions include
               <code class="command">registercloudguest</code> and can be registered as described in
               <a class="xref" href="cha-admin.html#sec-admin-registercloudguest" title="3.1.1. Register with registercloudguest">Section 3.1.1, “Register with <code class="command">registercloudguest</code>”</a>.
             </p></li><li class="listitem"><p>
               SUSE Manager (<code class="literal">suse-manager</code>) can only be registered with
               the SUSE Customer Center.
             </p></li></ul></div></div></li></ol></div><p>
     In summary, use <code class="command">registercloudguest</code> to register with the
     local cloud update infrastructure to benefit from faster downloads. Use
     <code class="command">SUSEConnect</code> to register with SUSE Customer Center or your own
     SUSE Manager or RMT infrastructure.
   </p><section class="sect2" id="sec-admin-registercloudguest" data-id-title="Register with registercloudguest"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.1.1 </span><span class="title-name">Register with <code class="command">registercloudguest</code></span></span> <a title="Permalink" class="permalink" href="cha-admin.html#sec-admin-registercloudguest">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
      To register a BYOS instance with <code class="command">registercloudguest</code>, run:
    </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">registercloudguest</code> -r <em class="replaceable">REGISTRATION_CODE </em> -e <em class="replaceable">EMAIL_ADDRESS</em></pre></div><p>
      Replace <em class="replaceable">REGISTRATION_CODE</em> with a valid
      registration code. Replace <em class="replaceable">EMAIL_ADDRESS</em> with the
      e-mail address associated with the SUSE account you or your organization
      uses to manage subscriptions.
    </p><p>
      BYOS instances created from images with a datestamp of
      <code class="literal">20220103</code> or <span class="emphasis"><em>later</em></span> contain all
      required packages. For BYOS instances created from images with a date stamp
      <span class="emphasis"><em>prior</em></span> to <code class="literal">20220103</code>, perform the following steps:
     </p><div class="procedure" id="pro-admin-registercloudguest" data-id-title="Switching from SUSEConnect to registercloudguest"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.1: </span><span class="title-name">Switching from <code class="command">SUSEConnect</code> to <code class="command">registercloudguest</code> </span></span><a title="Permalink" class="permalink" href="cha-admin.html#pro-admin-registercloudguest">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
           Check if the <span class="package">cloud-regionsrv-client</span> package is
           installed:
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">rpm</code> -q cloud-regionsrv-client</pre></div><p>
           If the package is not installed or older than version 9.3.0, install or
           update it.
         </p><p>
           For instances created from images with a date stamp prior to <code class="literal">20220103</code>,
           you first have to enable the <code class="literal">Public Cloud Module</code>. For SUSE Linux Enterprise 15 SP4,
           run:
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -p sle-module-public-cloud/15.4/x86_64</pre></div><p>
           For other versions or a complete list of modules and their product
           identifiers, run <code class="command">SUSEConnect --list-extensions</code>.
         </p><p>
           Install <span class="package">cloud-regionsrv-client</span>. Depending on your cloud framework,
           you will need some additional packages.
         </p><ul class="stepalternatives">
           <li class="step"><p>
               For Amazon EC2 run:
             </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> in cloud-regionsrv-client cloud-regionsrv-client-plugin-ec2 \
 regionServiceClientConfigEC2 regionServiceCertsEC2</pre></div></li>
           <li class="step"><p>
               For Microsoft Azure run:
             </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> in cloud-regionsrv-client cloud-regionsrv-client-plugin-azure \
 regionServiceClientConfigAzure regionServiceCertsAzure</pre></div></li>
           <li class="step"><p>For Google Compute Engine run:</p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> in cloud-regionsrv-client cloud-regionsrv-client-plugin-gce \
 regionServiceClientConfigGCE regionServiceCertsGCE</pre></div></li>
         </ul></li><li class="step"><p>
           Disconnect your instance from the SUSE Customer Center:
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">registercloudguest</code> --clean</pre></div><p>
           Do <span class="emphasis"><em>not</em></span> use <code class="command">SUSEConnect -d</code>; it will
           no longer work.
         </p></li><li class="step"><p>
           Connect the instance to the SUSE update infrastructure in the
           public cloud. Replace <em class="replaceable">REGISTRATION_CODE</em> with a
           valid registration code. Replace <em class="replaceable">EMAIL_ADDRESS</em>
           with the e-mail address associated with the SUSE account you or your
           organization uses to manage subscriptions.
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">registercloudguest</code> -r <em class="replaceable">REGISTRATION_CODE </em> -e <em class="replaceable">EMAIL_ADDRESS</em></pre></div><p>
           This will only register the base product and any recommended products.
           For instances created from images with a datestamp later than
           <code class="literal">20220103</code>, it will also set up the repositories for the
           <code class="literal">Public Cloud Module</code>.
         </p></li></ol></div></div></section><section class="sect2" id="sec-admin-suseconnect" data-id-title="Register with SUSEConnect"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.1.2 </span><span class="title-name">Register with <code class="command">SUSEConnect</code></span></span> <a title="Permalink" class="permalink" href="cha-admin.html#sec-admin-suseconnect">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To register a BYOS instance with <code class="command">SUSEConnect</code>, run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -r <em class="replaceable">REGISTRATION_CODE</em> -e <em class="replaceable">EMAIL_ADDRESS</em></pre></div><p>
    Replace <em class="replaceable">REGISTRATION_CODE</em> with a valid
    registration code. Replace <em class="replaceable">EMAIL_ADDRESS</em> with the
    e-mail address associated with the SUSE account you or your organization
    uses to manage subscriptions.
   </p><p>
    To register with your own registration server, also provide its URL:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -r <em class="replaceable">REGISTRATION_CODE</em> -e <em class="replaceable">EMAIL_ADDRESS</em> --url <em class="replaceable">URL</em></pre></div><p>
      If the instance was already registered with <code class="command">registercloudguest</code>, perform the
      following steps:
    </p><div class="procedure" id="pro-admin-suseconnect" data-id-title="Switching from registercloudguest to SUSEConnect"><div class="title-container"><div class="procedure-title-wrap"><div class="procedure-title"><span class="title-number-name"><span class="title-number">Procedure 3.2: </span><span class="title-name">Switching from <code class="command">registercloudguest</code> to <code class="command">SUSEConnect</code> </span></span><a title="Permalink" class="permalink" href="cha-admin.html#pro-admin-suseconnect">#</a></div></div><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
           Disconnect your instance from the SUSE-operated update infrastructure in the cloud
           framework:
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">registercloudguest</code> --clean</pre></div></li><li class="step"><p>
           Uninstall the <span class="package">cloud-regionsrv-client</span> package and its dependencies:
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">zypper</code> rm -u cloud-regionsrv-client</pre></div></li><li class="step"><p>
           Clean up the registration status:
         </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> --cleanup --url https://scc.suse.com</pre></div></li><li class="step"><p>
           Register the instance with <code class="command">SUSEConnect</code>.
         </p><ul class="stepalternatives">
           <li class="step"><p>
               To connect the instance to the SUSE Customer Center, run:
             </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -r <em class="replaceable">REGISTRATION_CODE</em> -e <em class="replaceable">EMAIL_ADDRESS</em></pre></div></li>
           <li class="step"><p>
               To connect the instance to the your own registration server, run:
             </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> -r <em class="replaceable">REGISTRATION_CODE</em> -e <em class="replaceable">EMAIL_ADDRESS</em> --url <em class="replaceable">URL</em></pre></div></li>
         </ul></li></ol></div></div></section></section><section class="sect1" id="sec-admin-deregister" data-id-title="Deregister instances"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.2 </span><span class="title-name">Deregister instances</span></span> <a title="Permalink" class="permalink" href="cha-admin.html#sec-admin-deregister">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   If you are to decommission an instance, remember to deregister it before
   termination. This will ensure that the system gets removed from the SUSE Customer Center and
   is no longer counted against your subscription.
  </p><div class="procedure"><div class="procedure-contents"><ol class="procedure" type="1"><li class="step"><p>
     Run <code class="command">SUSEConnect --status-text</code> to check the registration
     status.
    </p></li><li class="step"><p>
     If the system is registered, check if the file
     <code class="filename">/var/log/guestregister</code> exists. This usually indicates
     the system was registered with <code class="command">registercloudguest</code>.
    </p></li><li class="step"><p>
     Deregister the system:
    </p><ul class="stepalternatives">
     <li class="step"><p>
       If a system was registered with <code class="command">registercloudguest</code>,
       run:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">registercloudguest</code> <code class="option">--clean</code></pre></div></li>
     <li class="step"><p>
       If a system was registered with <code class="command">SUSEConnect</code>, run:
      </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt root"># </code><code class="command">SUSEConnect</code> <code class="option">-d</code></pre></div><p>
       If this does not work, make sure the package
       <span class="package">cloud-regionsrv-client</span> is not installed. It may have
       been installed after the system was registered.
      </p></li>
    </ul></li></ol></div></div></section><section class="sect1" id="hardening" data-id-title="Hardening instances"><div class="titlepage"><div><div><div class="title-container"><h2 class="title"><span class="title-number-name"><span class="title-number">3.3 </span><span class="title-name">Hardening instances</span></span> <a title="Permalink" class="permalink" href="cha-admin.html#hardening">#</a></h2><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
   To improve overall security, SUSE provides hardened images of some
   products. The images are hardened using <span class="product">OpenSCAP</span>, a collection of open source tools that
   implement the <code class="systemitem">Security Content Automation
    Protocol (SCAP)</code> maintained by the <span class="orgname">National Institute
     of Standards and Technology (NIST)</span>. <span class="product">OpenSCAP</span> supports automated configuration,
   vulnerability and patch checking, technical control compliance activities,
   and security measurement.
  </p><p>
   To harden a system, <span class="product">OpenSCAP</span> uses security
   rules that define certain security measures. Multiple rules can be combined
   into profiles. For more information, refer to the OpenSCAP documentation
   at <a class="link" href="https://www.open-scap.org/resources/documentation/" target="_blank">https://www.open-scap.org/resources/documentation/</a>.
  </p><section class="sect2" id="id-1.5.5.4" data-id-title="Pre-hardening"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.3.1 </span><span class="title-name">Pre-hardening</span></span> <a title="Permalink" class="permalink" href="cha-admin.html#id-1.5.5.4">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    Hardened images are pre-hardened to the extent they can safely be hardened
    without causing problems in public cloud frameworks. Certain rules can only
    be applied after instance creation, for example:
   </p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem"><p>
      Rules that require having passwords set up. Passwords would have to be
      public if configured during the image build. This would defeat the purpose of
      a secret password.
     </p></li><li class="listitem"><p>
      Rules that affect the network configuration. Networking is set up during
      instance creation, therefore it is not possible to limit access during
      image build.
     </p></li><li class="listitem"><p>
      Rules for custom partitioning. SUSE's public cloud images are
      partitioned to meet the requirements of the framework in which they are
      released. If your system needs to meet standards that require separate
      file systems for given directories, we recommend that you build your own
      images and use LVM or move those directories onto attached disks to get
      the strictest data separation possible.
     </p></li><li class="listitem"><p>
      Rules to remove packages. SUSE's public cloud images cater to a wide range
      of use cases. Even if the number of packages is limited, it is impossible
      to determine what packages an instance requires.
     </p></li></ul></div></section><section class="sect2" id="id-1.5.5.5" data-id-title="Avialable OpenSCAP profiles"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.3.2 </span><span class="title-name">Avialable <span class="product">OpenSCAP</span> profiles </span></span> <a title="Permalink" class="permalink" href="cha-admin.html#id-1.5.5.5">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    After instance creation, you can use the installed
    <span class="package">openscap</span> packages to complete the hardening process using
    any of the following profiles:
   </p><div class="variablelist"><dl class="variablelist"><dt id="id-1.5.5.5.3.1"><span class="term">Standard (<a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/standard.profile" target="_blank"><code class="filename">standard.profile</code></a>)</span></dt><dd><p>
       Basic <span class="product">OpenSCAP</span> system security
       standard.
      </p></dd><dt id="id-1.5.5.5.3.2"><span class="term">CIS Server Level 2 (<a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/cis.profile" target="_blank"><code class="filename">cis.profile</code></a>)</span></dt><dd><p>
       The <code class="systemitem">Center for Internet Security Server Level 2</code> profile is considered
       to be <span class="quote">“<span class="quote">defense in depth</span>”</span> and is intended for environments
       where security is paramount. The recommendations associated with this
       profile can have an adverse effect on your organization if not
       implemented appropriately or without due care. For more information,
       refer to <a class="link" href="https://www.cisecurity.org" target="_blank">https://www.cisecurity.org</a>.
      </p></dd><dt id="id-1.5.5.5.3.3"><span class="term">Department of Defense STIG (<a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/stig.profile" target="_blank"><code class="filename">stig.profile</code></a>)</span></dt><dd><p>
       The <span class="orgname">Defense Information Systems Agency</span> publishes <em class="citetitle">Security Technical Implementation Guides
        (STIGs)</em> for the <span class="orgname">Department of Defense</span>.
       The STIG profile replaces the previous CIS Level 3 profile and
       provides all recommendations that are STIG-specific. Overlap of
       recommendations from other profiles, i.e. CIS Level 1 and Level 2,
       are present in the STIG profile as applicable. For more information,
       refer to <a class="link" href="https://public.cyber.mil/stigs/" target="_blank">https://public.cyber.mil/stigs/</a>.
      </p></dd><dt id="id-1.5.5.5.3.4"><span class="term">HIPAA Security Rule (<a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/hipaa.profile" target="_blank"><code class="filename">hipaa.profile</code></a>)</span></dt><dd><p>
       In response to the <em class="citetitle">Health Insurance Portability and Accountability Act (HIPAA)</em> of 1996, the
       <span class="orgname">U.S. Department of Health and Human Services</span> developed
       <em class="citetitle">Security Standards for the Protection of Electronic Protected
        Health Information</em>, commonly known as the <code class="systemitem">HIPAA
         Security Rule</code>. It establishes national standards to protect
       individuals' electronic personal health information (e-PHI) that is
       created, received, used, or maintained by a covered entity. For more
       information, refer to <a class="link" href="https://www.hhs.gov/hipaa/for-professionals/security/index.html" target="_blank">https://www.hhs.gov/hipaa/for-professionals/security/index.html</a>.
      </p></dd><dt id="id-1.5.5.5.3.5"><span class="term">Payment Card Industry Data Security Standard (<a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/pci-dss.profile" target="_blank"><code class="filename">pci-dss.profile</code></a>)</span></dt><dd><p>
       The <em class="citetitle">Payment Card Industry Data Security Standard (PCI DSS)</em> is a set of requirements
       to guide merchants to protect cardholder data. It is  maintained by the
       <span class="orgname">PCI Security Standards Council (SSC)</span> that was founded
       by all five major credit card brands Visa, MasterCard, American Express,
       Discover, and JCB. For more information, refer to <a class="link" href="https://www.pcisecuritystandards.org/document_library" target="_blank">https://www.pcisecuritystandards.org/document_library</a>.
      </p></dd></dl></div><p>
    All profile files are available in the <a class="link" href="https://github.com/ComplianceAsCode/content/tree/master/products/sle15/profiles" target="_blank">ComplianceAsCode</a>
    repository.
   </p><p>
    For a complete list of rules that have been applied during pre-hardening,
    refer to <a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/pcs-hardening.profile" target="_blank"><code class="filename">pcs-hardening.profile</code></a>.
    This profile is a combination of the <code class="literal">STIG</code> and
    <code class="literal">CIS</code> profiles minus rules that can only be applied
    after instance creation.
   </p><p>
    Images of SUSE Linux Enterprise Server for SAP Applications are hardened using a modified version of the profile
    called <a class="link" href="https://github.com/ComplianceAsCode/content/blob/master/products/sle15/profiles/pcs-hardening-sap.profile" target="_blank"><code class="filename">pcs-hardening-sap.profile</code></a>.
    Users may need to make additional modifications to the system configuration
    depending on individual application needs.
   </p><div id="id-1.5.5.5.7" data-id-title="Recommended profiles" class="admonition important normal"><img class="symbol" alt="Important" title="Important" src="static/images/icon-important.svg"/><div class="admon-title">Important: Recommended profiles</div><p>
     SUSE recommends using either the <code class="literal">CIS</code> or the
     <code class="literal">STIG</code> profile. You can use other profiles at your own
     discretion.
    </p></div></section><section class="sect2" id="id-1.5.5.6" data-id-title="Hardening instances with OpenSCAP"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.3.3 </span><span class="title-name">Hardening instances with <span class="product">OpenSCAP</span></span></span> <a title="Permalink" class="permalink" href="cha-admin.html#id-1.5.5.6">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    To evaluate an instance, you can run:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">oscap</code> xccdf eval \
    --profile <em class="replaceable">stig</em><span class="callout" id="co-eval-profile">1</span> \
    --results <em class="replaceable">/tmp/results.xml</em><span class="callout" id="co-eval-results">2</span> \
    --report <em class="replaceable">/tmp/report.html</em><span class="callout" id="co-eval-report">3</span> \
    --stig-viewer <em class="replaceable">/tmp/stigviewer.xml</em><span class="callout" id="co-eval-viewer">4</span> \
    <em class="replaceable">/usr/share/xml/scap/ssg/content/ssg-sle15-ds-1.2.xml</em><span class="callout" id="co-eval-ssg">5</span></pre></div><div class="calloutlist"><table style="border: 0; "><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-eval-profile"><span class="callout">1</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Specifies the profile to use, e.g. <code class="literal">stig</code> or
      <code class="literal">cis</code>.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-eval-results"><span class="callout">2</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Saves the results of the evaluation to <code class="filename">/tmp/results.xml</code>
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-eval-report"><span class="callout">3</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Generates a HTML report called <code class="filename">/tmp/report.html</code> in
      addition to the results in XML.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-eval-viewer"><span class="callout">4</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      Saves the results to <code class="filename">/tmp/stigviewer.xml</code>, which can
      be imported into the <code class="literal">DISA STIG Viewer</code>. Refer to <a class="link" href="https://public.cyber.mil/stigs/srg-stig-tools/" target="_blank">https://public.cyber.mil/stigs/srg-stig-tools/</a> for
      information about DISA STIG Viewer.
     </p></td></tr><tr><td style="width: 5%; vertical-align: top; text-align: left; "><p><a href="#co-eval-ssg"><span class="callout">5</span></a> </p></td><td style="vertical-align: top; text-align: left; "><p>
      <code class="literal">Scap Security Guide</code> (SSG) policy file in the
      <code class="literal">datastream</code> (ds) format. Make sure to select the correct
      version for your instance. To list all available policies, run:
      <code class="command">ls -1 /usr/share/xml/scap/ssg/content/ssg-*-ds.xml</code>.For
      more information about a particular policy, run
      <code class="command">oscap info</code> on the file.
     </p></td></tr></table></div><p>
    The evaluation process usually takes a few minutes, depending on the number
    of selected rules.
   </p><p>
    To remediate an instance, add the <em class="parameter">--remediate</em>
    parameter:
   </p><div class="verbatim-wrap"><pre class="screen"><code class="prompt user">&gt; </code><code class="command">sudo</code> <code class="command">oscap</code> xccdf eval --remediate\
    --profile <em class="replaceable">stig</em> \
    --results <em class="replaceable">/tmp/results.xml</em> \
    --report <em class="replaceable">/tmp/report.html</em> \
    --stig-viewer <em class="replaceable">/tmp/stigviewer.xml</em> \
    <em class="replaceable">/usr/share/xml/scap/ssg/content/ssg-sle15-ds-1.2.xml</em></pre></div></section><section class="sect2" id="id-1.5.5.7" data-id-title="More information"><div class="titlepage"><div><div><div class="title-container"><h3 class="title"><span class="title-number-name"><span class="title-number">3.3.4 </span><span class="title-name">More information</span></span> <a title="Permalink" class="permalink" href="cha-admin.html#id-1.5.5.7">#</a></h3><div class="icons"><a target="_blank" class="icon-reportbug" title="Report an issue"> </a><a target="_blank" class="icon-editsource" href="https://github.com/SUSE/doc-public-cloud/edit/main/xml/cha_administration.xml" title="Edit source document"> </a></div></div></div></div></div><p>
    For more information on how to harden your SUSE Linux Enterprise system with <span class="product">OpenSCAP</span>, refer to the article
    <a class="link" href="https://documentation.suse.com/compliance/all/html/SLES-openscap/article-openscap.html" target="_blank"><em class="citetitle">Hardening
     SUSE Linux Enterprise with OpenSCAP</em></a>. For general
    information on <span class="product">OpenSCAP</span>, refer to the <a class="link" href="https://www.open-scap.org/security-policies/scap-security-guide/" target="_blank"><em class="citetitle">SCAP
      Security Guide</em></a>.
   </p></section></section></section><nav class="bottom-pagination"><div><a class="pagination-link prev" href="cha-images.html"><span class="pagination-relation">Previous</span><span class="pagination-label"><span class="title-number">Chapter 2 </span>Public cloud images</span></a> </div><div><a class="pagination-link next" href="app-public-cloud-support.html"><span class="pagination-relation">Next</span><span class="pagination-label"><span class="title-number">Appendix A </span>Support</span></a> </div></nav></article><aside id="_side-toc-page" class="side-toc"><div class="side-title">On this page</div><div class="toc"><ul><li><span class="sect1"><a href="cha-admin.html#sec-admin-register"><span class="title-number">3.1 </span><span class="title-name">Registering instances</span></a></span></li><li><span class="sect1"><a href="cha-admin.html#sec-admin-deregister"><span class="title-number">3.2 </span><span class="title-name">Deregister instances</span></a></span></li><li><span class="sect1"><a href="cha-admin.html#hardening"><span class="title-number">3.3 </span><span class="title-name">Hardening instances</span></a></span></li></ul></div><div class="side-title">Share this page</div><ul class="share"><li><a id="_share-fb" href="#" title="Facebook"> </a></li><li><a id="_share-in" href="#" title="LinkedIn"> </a></li><li><a id="_share-tw" href="#" title="Twitter/X"> </a></li><li><a id="_share-mail" href="#" title="E-Mail"> </a></li><li><a id="_print-button" href="#" title="Print this page"> </a></li></ul> </aside></main><footer id="_footer"><div class="growth-inhibitor"><div class="copy"><span class="copy__rights">© SUSE
                 2024</span></div></div></footer></body></html>